services:
  - type: web
    name: study-kit
    runtime: docker
    plan: free
    dockerfilePath: ./Dockerfile
    dockerContext: .
    healthCheckPath: /health
    envVars:
      - key: PORT
        value: 8000
      - key: USE_T5_MODEL
        value: false  # Disabled for free tier (saves 400MB+ memory)
      - key: DATABASE_URL
        value: sqlite:///./studykit.db  # SQLite in container (optional PostgreSQL upgrade)
    # Free tier: 512MB RAM limit
    # T5 model disabled by default to fit in memory
    # Database optional - works without it
    # Services sleep after 15 minutes of inactivity
